/**
 * Safari Colorful Toolbar
 *
 * Make the Safari Toolbar more consistent with your brand colors.
 * Works only on the MacOS, Safari browser that has native toolbar's opacity
 *
 * @author Petr Savchenko <specc.dev@gmail.com>
 * @see CodeX - team of enthusiasts developers unifying students and graduates of the ITMO University {@link https://ifmo.su}
 * @licence MIT
 * @preserve
 */
var SCToolbar=function(){function SCToolbar(options){this.initialized=false;this.currentColorIndex=0;if(!options||!options.color){this.log("«color» option is missed");return}this.color=options.color;this.init()}SCToolbar.prototype.destroy=function(){if(!this.initialized){return}this.stopAnimation();this.stopBlinking();this.underlayer.remove();this.underlayer=null;this.color=null;this.initialized=false};SCToolbar.prototype.reinit=function(options){if(options&&options.color){this.color=options.color}this.init()};SCToolbar.prototype.blink=function(params){var _this=this;if(params===void 0){params={interval:400,transitionSpeed:500}}if(!this.initialized){this.log("Module was not initialized");return}if(this.animationInterval){this.stopAnimation()}this.underlayer.style["will-change"]="opacity";if(!isNaN(params.transitionSpeed)){this.underlayer.style.transition="opacity "+params.transitionSpeed+"ms ease"}else{this.log("transitionSpeed must be a number")}this.blinkingInterval=setInterval(function(){if(_this.underlayer.style.opacity==="1"){_this.underlayer.style.opacity="0"}else{_this.underlayer.style.opacity="1"}},params.interval)};SCToolbar.prototype.animate=function(params){var _this=this;if(!this.initialized){this.log("Module was not initialized");return}if(!params||!params.colors){this.log("Missed required parameter «colors» (array of strings) for the animation");return}if(this.blinkingInterval){this.stopBlinking()}this.underlayer.style["will-change"]="background-color";var speed=800;if(params&&params.speed&&!isNaN(params.speed)){speed=params.speed}this.underlayer.style.transition="background-color "+speed/1.1+"ms ease";this.animationInterval=setInterval(function(){_this.currentColorIndex++;if(_this.currentColorIndex>params.colors.length){_this.currentColorIndex=0}_this.underlayer.style.backgroundColor=params.colors[_this.currentColorIndex]},speed)};SCToolbar.prototype.stopBlinking=function(){if(this.initialized&&this.blinkingInterval){clearTimeout(this.blinkingInterval);this.blinkingInterval=null}};SCToolbar.prototype.stopAnimation=function(){if(this.initialized&&this.animationInterval){clearTimeout(this.animationInterval);this.animationInterval=null;this.currentColorIndex=0;this.underlayer.style.backgroundColor=this.color}};SCToolbar.prototype.init=function(){if(!SCToolbar.supported){this.log("Module is not supported by current platform");return}this.underlayer=this.make();this.initialized=true};Object.defineProperty(SCToolbar,"supported",{get:function(){return SCToolbar.isSafari&&(SCToolbar.isMac||SCToolbar.isIOS)},enumerable:true,configurable:true});Object.defineProperty(SCToolbar,"isMac",{get:function(){return navigator.platform.toUpperCase().indexOf("MAC")>=0},enumerable:true,configurable:true});Object.defineProperty(SCToolbar,"isIOS",{get:function(){return!!navigator.platform.match(/(iPhone|iPod|iPad)/i)},enumerable:true,configurable:true});Object.defineProperty(SCToolbar,"isSafari",{get:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},enumerable:true,configurable:true});SCToolbar.prototype.log=function(output){var style="color: #047ec6;\n                  font-size: 11.8px;\n                  letter-spacing: 3px;\n                  border: 1px solid #047ec6;\n                  border-radius: 3px;\n                  display: inline-block;\n                  padding: 1px 3px;\n                  margin-right: 5px";if(window.console){window.console.log("%cSCToolbar"+"%c"+output,style,"")}};SCToolbar.prototype.make=function(){var liner=document.createElement("div");liner.style.position="fixed";liner.style.top="0";liner.style.left="0";liner.style.right="0";liner.style.height="100px";liner.style.transform="translateY(-99.99%)";liner.style.backgroundColor=this.color;document.body.appendChild(liner);return liner};SCToolbar.version="1.0.0";return SCToolbar}();